{% extends "base.html" %}

{% block content %}
  <section class="card mb-20">
    <div class="mt-40 mb-16 t-align-center">
      <span class="fake-avatar width-100 height-100"></span>
    </div>
    <p class="mt-0 mb-0">{{ user["full_name"] }}</p>
    <hr class="hr mt-0">
    <p class="mt-0 mb-24 text-muted-dark l-height-6">{{ user["about_me"] }}</p>
    <div class="div-3 chart mb-24 clearfix">    
      <div class="fleft width-third t-align-center">
        <span>Posts</span>
        <div class="circle">
          <span class="abs-center">{{ user["num_posts"] }}</span>
        </div>
      </div>  
      <div class="fleft width-third t-align-center">
        <span>Followers</span>
        <div class="circle">
          <span class="abs-center">{{ user["num_followers"] }}</span>
        </div>
      </div>  
      <div class="fleft width-third t-align-center">
        <span>Following</span>
        <div class="circle">
          <span class="abs-center">{{ user["num_following"] }}</span>
        </div>                                        
      </div> 
    </div>    
    <button type="button" class="btn btn-info mt-24 mb-24" id="editProfileButton">Edit Profile</button>
  </section>
  <section class="card mb-20" id="profileFormCard">
    <form class="mt-40" action="" method="POST" id="profileForm">
      <fieldset form="profileForm">
        <legend>Profile</legend>    
        <div class="sort-toggle mb-30">
          <hr class="hr mt-0 mb-3"> 
          <span class="circle">
            <span class="abs-center">
              <i class="fa-solid fa-angles-down"></i>
            </span>
          </span> 
        </div>
        <div class="div-3 account mb-30 clearfix">
          <div class="fleft width-third t-align-center">
            <span>Password</span>
            <div class="circle"> 
              <span class="abs-center">Change</span>                  
            </div>
          </div>  
          <div class="fleft width-third t-align-center">
            <span>Image</span>
            <label class="circle fake-avatar"> 
              <input type="file" id="image">
            </label>      
          </div>  
          <div class="fleft width-third t-align-center">
            <span>Account</span>
            <div class="circle delete"> 
              <span class="abs-center">Delete</span>
            </div>
          </div>
        </div>
        <label for="firstName">First Name</label>
        <input type="text" id="firstName" name="first_name" value="{{ user["first_name"] }}">
        <label for="lastName">Last Name</label>
        <input type="text" id="lastName" name="last_name" value="{{ user["last_name"] }}">
        <label for="emailAddress">Email</label>
        <input type="email" id="emailAddress" name="email" value="{{ user["email"] }}">
        <label for="aboutMe">About me</label>
        <textarea id="aboutMe" name="about_me" rows="3">{{ user["about_me"] }}</textarea>
        <input type="submit" value="Update" class="mb-16">
        <button type="button" class="btn-default mt-0 mb-24" id="cancelProfileButton">Cancel</button>
      </fieldset>
    </form>   
    <!-- Password Change Modal -->
    <div class="modal" id="changePasswordModal">
      <div class="card modal-content">
        <form class="mt-40" method="Post" action="">
          <fieldset>
            <legend>Change Password</legend>
            <hr class="hr mt-0 mb-30">
            <label for="currentPassword">Current Password</label>
            <div class="forgot-password">
              <input type="password" id="currentPassword" name="current_password" placeholder="Enter Current Password" required>
              <a href="{{ url_for('reset_before_email') }}">Forgot?</a>
            </div> 
            <label for="newPassword">New Password</label>
            <input type="password" id="newPassword" name="new_password" placeholder="Enter New Password" required> 
            <label for="repeatNewPassword">Repeat New Password</label>  
            <input type="password" id="repeatNewPassword" name="repeat_new_password" placeholder="Repeat New Password" required>  
            <input type="submit" value="Confirm" class="mb-16">
            <button type="button" class="btn-default mt-0 mb-24">Cancel</button>  
          </fieldset>
        </form>
      </div>
    </div>     
    <!-- Delete Account Modal -->
    <div class="modal" id="deleteAccountModal">
      <div class="card modal-content">
        <form class="mt-40" method="Post" action="">
          <fieldset>
            <legend>Delete Account</legend>
            <hr class="hr mt-0 mb-30">
            <p>Are you sure you want to delete your account?</p>
            <input type="submit" value="Confirm" class="mb-16">
            <button type="button" class="btn-default mt-0 mb-24">Cancel</button>  
          </fieldset>
        </form>
      </div>
    </div>  
  </section>
{% endblock content %}

{% block js %}
  <script src="{{ url_for('static', filename='js/profile.js') }}"></script>
{% endblock js %}
